function random(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";b.length<a;)b+=c.charAt(Math.floor(Math.random()*c.length));return b}var StoreFactory=function(){return this instanceof StoreFactory?(this.stores={},this):new StoreFactory};StoreFactory.prototype.get=function(a){return a||(a=random(10)+"::"),this.stores[a]||(this.stores[a]=new Store(a)),this.stores[a]},StoreFactory.prototype.destroy=function(){store.clear();for(var a in this.stores)delete this.stores[a];return this};var Store=function(a){return this instanceof Store?(this.prefix=a,this):new Store(a)};Store.prototype.get=function(a){return store.get(this.prefix+a)},Store.prototype.set=function(a,b){return store.set(this.prefix+a,b),this},Store.prototype.remove=function(a){return store.remove(this.prefix+a),this},Store.prototype.getAll=function(){var a=this,b={};return store.forEach(function(c,d){c.substr(0,a.prefix.length)===a.prefix&&(b[c]=d)}),b},Store.prototype.clear=function(){var a=this,b=store.getAll();for(var c in b)c.substr(0,a.prefix.length)===a.prefix&&store.remove(c);return this};